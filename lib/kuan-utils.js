!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["kuan-utils"]=t():e["kuan-utils"]=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/typeof")},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("@babel/runtime/helpers/objectSpread")},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"byteSize",function(){return a}),n.d(r,"htmlEncode",function(){return i}),n.d(r,"formatCurrency",function(){return u}),n.d(r,"timeAgo",function(){return c}),n.d(r,"remainTime",function(){return l});var o={get:function(e,t){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=(t||window.location.search.substr(1)).match(n);return null!=r?decodeURIComponent(r[2]):null},parse:function(e){var t=(e=null==e?window.location.href:e).includes("?")?e.substring(e.lastIndexOf("?")+1):"";return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}},stringify:function(e){if(!e)return"";var t=[];for(var n in e){var r=e[n];if(r instanceof Array)for(var o=0;o<r.length;++o)t.push(encodeURIComponent(n+"["+o+"]")+"="+encodeURIComponent(r[o]));else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return t.join("&")}};function a(e){return new Blob([e]).size}function i(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}function u(e){return(+e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function c(e){var t=Date.now()-e,n=Math.floor(t/864e5),r=Math.floor(t/36e5),o=Math.floor(t/6e4),a=Math.floor(n/30),i=Math.floor(a/12);return i?i+"年前":a?a+"个月前":n?n+"天前":r?r+"小时前":o?o+"分钟前":"刚刚"}function l(e){var t=new Date,n=new Date(e).getTime()-t.getTime(),r=0,o=0,a=0,i=0;return 0<=n&&(r=Math.floor(n/1e3/3600/24),o=Math.floor(n/1e3/60/60%24),a=Math.floor(n/1e3/60%60),i=Math.floor(n/1e3%60)),r+"天 "+o+"小时 "+a+"分钟 "+i+"秒"}function s(e,t){var n={value:t,maxAge:6e4*(2<arguments.length&&void 0!==arguments[2]?arguments[2]:10080),timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(n))}function f(t){try{var e=localStorage.getItem(t);if(!e)return null;var n=JSON.parse(e),r=n.value,o=n.maxAge+n.timestamp>Date.now()?r:null;return o||localStorage.removeItem(t),o}catch(e){return console.error(e),localStorage.removeItem(t),null}}var d={get:f,set:s,create:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1440;return{get:function(){return f(t)},set:function(e){console.log("创建localStore有效时间：".concat(n,"分钟")),s(t,e,n)},clear:function(){localStorage.remove(t)}}},clear:function(e){localStorage.remove(e)}};function p(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=new Date;r.setDate(r.getDate()+n),document.cookie=e+"="+t+";expires="+r}var g={get:function(e){for(var t=document.cookie.replace(/\s/g,"").split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]===e)return decodeURIComponent(r[1])}return""},set:p,remove:function(e){p(e,"",-1)}},m=n(2),h=n.n(m);var v=function e(t){var n;if(null===t||"object"!==h()(t))return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var r=0,o=t.length;r<o;r++)n[r]=e(t[r]);return n}if(t instanceof Object){for(var a in n={},t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n}throw new Error("deep clone isn't supported.")};function w(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"".concat(Date.now(),".txt"),n=document.createElement("a");n.download=t,n.style.display="none",n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function b(e,t){w(URL.createObjectURL(e),t)}var y={download:w,downloadBlob:b,downloadStr:function(e,t){b(new Blob([e]),t)},downloadImage:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"".concat(Date.now(),".png"),n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src=e,n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0,n.width,n.height),w(e.toDataURL("image/png"),t)}}},x=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";var n=document.getSelection(),r=!1;0<n.rangeCount&&(r=n.getRangeAt(0)),document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length;var o=!1;try{o=document.execCommand("copy")}catch(e){}return document.body.removeChild(t),r&&(n.removeAllRanges(),n.addRange(r)),o};var S={add:function(e,t){var n,r;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}var o=Math.abs(n-r),a=Math.pow(10,Math.max(n,r));if(0<o){var i=Math.pow(10,o);t=r<n?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*i):(e=Number(e.toString().replace(".",""))*i,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},sub:function(e,t){var n,r;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}var o=Math.pow(10,Math.max(n,r));return((e*o-t*o)/o).toFixed(r<=n?n:r)},mul:function(e,t){var n=0,r=e.toString(),o=t.toString();try{n+=r.split(".")[1].length}catch(e){}try{n+=o.split(".")[1].length}catch(e){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},div:function(e,t){var n=0,r=0;try{n=e.toString().split(".")[1].length}catch(e){}try{r=t.toString().split(".")[1].length}catch(e){}return Number(e.toString().replace(".",""))/Number(t.toString().replace(".",""))*Math.pow(10,r-n)}},M=new Date;var C,I=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;if("function"!=typeof e)throw new Error("必须传入一个函数作为参数");var n=new Date;t<n-M&&(M=n,e())};var j=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;if("function"!=typeof e)throw new Error("必须传入一个函数作为参数");C&&clearTimeout(C),C=setTimeout(function(){e()},t)};var O=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},D="";"undefined"!=typeof navigator&&(D=navigator.userAgent.toLowerCase());var A=/applewebkit/i.test(D),T=/micromessenger/i.test(D),k=/alipayclient/.test(D),U=!/Android|webOS|iPhone|iPod|BlackBerry/i.test(D);var R={isiOS:A,isWx:T,isAliPay:k,isPc:U,isPhone:function(e){return/^(0|86|17951)?1\d{10}$/.test(e)},isEmail:function(e){return/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)},isNum:function(e){return/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)},isIdCard:function(e){return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(e)},isUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(e)},isImage:function(e){if(!e)return!1;var t=e.lastIndexOf(".");if(-1===t)return!1;var n=e.substr(t+1),r=n.substr(0,n.indexOf("?"));return/png|gif|svg|jpg|icon|jpeg]/i.test(r)}},N=n(3),P=n.n(N);function E(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(e){var t=P()(new Set(i)),n=[];function r(){n.push(this.src),n.length===t.length&&e(n)}for(var o=0;o<t.length;o++){var a=new Image;a.src=t[o],a.onload=r,a.onerror=r}})}function q(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=document.documentElement.scrollTop||document.body.scrollTop,n=t-e;if(!(Math.abs(n)<1)){var r=t-n/10;Math.abs(n)/10<1&&(r=t-(n<0?-1:1)),window.scrollTo(0,r),window.requestAnimationFrame(function(){q(e)})}}function z(){q(0)}var _,B=q,$=n(0),L=n.n($),J=n(4),F=n.n(J),Z=n(1),G=n.n(Z),W=n(5),X=n.n(W);function H(){return K.apply(this,arguments)}function K(){return(K=G()(L.a.mark(function e(){var t,n,r;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href.split("#")[0],e.next=3,X()({url:"//api.luzhongkuan.cn/wx/share?url=".concat(encodeURIComponent(t))});case 3:if(n=e.sent,(r=n.data).success)return e.abrupt("return",r.data);e.next=7;break;case 7:return e.abrupt("return",Promise(Error("获取分享配置失败")));case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Q=function(){var n=G()(L.a.mark(function e(t,n){var r,o;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_||(_=new Promise(function(e,t){if("undefined"!=typeof wx)e();else{var n=document.createElement("script");n.src="//res.wx.qq.com/open/js/jweixin-1.4.0.js ",n.onload=e,n.onerror=t,document.head.appendChild(n)}}));case 4:if(r={title:"没有标题",desc:"这里没有描述",link:window.location.href,imgUrl:"http://lib.luzhongkuan.cn/images/logo.png"},e.t0=n,e.t0){e.next=10;break}return e.next=9,H();case 9:e.t0=e.sent;case 10:o=e.t0,wx.config(o),wx.ready(function(){var e=F()({},r,t);wx.updateAppMessageShareData(e),wx.updateTimelineShareData(e)});case 13:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}();n.d(t,"qs",function(){return o}),n.d(t,"localData",function(){return d}),n.d(t,"cookieUtil",function(){return g}),n.d(t,"deepClone",function(){return v}),n.d(t,"downloadUtil",function(){return y}),n.d(t,"copy",function(){return x}),n.d(t,"mathUtil",function(){return S}),n.d(t,"throttle",function(){return I}),n.d(t,"debounce",function(){return j}),n.d(t,"randomColor",function(){return O}),n.d(t,"validate",function(){return R}),n.d(t,"loadImages",function(){return E}),n.d(t,"scrollTo",function(){return B}),n.d(t,"scrollToTop",function(){return z}),n.d(t,"wxShare",function(){return Q}),n.d(t,"filters",function(){return r})}])});