!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.uploader=t():e.uploader=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/slicedToArray")},function(e,t){e.exports=require("spark-md5")},function(e,t,n){"use strict";n.r(t),n.d(t,"getFileMD5",function(){return f}),n.d(t,"selectFile",function(){return s}),n.d(t,"getFile",function(){return p});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),u=n(2),c=n.n(u),l=n(3),d=n.n(l);function f(s,p){return new Promise(function(u,t){var r=new FileReader,o=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,i=10485760,c=Math.ceil(s.size/i),a=0,l=new d.a;function f(){var e=a*i,t=e+i>=s.size?s.size:e+i,n=o.call(s,e,t);r.readAsArrayBuffer(n)}r.onload=function(e){for(var t="",n=new Uint8Array(e.target.result),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);if(l.appendBinary(t),a++,p?p("".concat(Math.ceil(a/c*100),"%")):console.log("读取文件","".concat(Math.ceil(a/c*100),"%")),a<c)f();else{var i=l.end();u(i)}},r.onerror=function(e){t(e)},f()})}function s(){var e="kuan-upload-input",n=document.getElementById(e);return n||((n=document.createElement("input")).id=e,n.type="file",n.style.display="none",document.body.appendChild(n)),n.click(),new Promise(function(t){n.onchange=function(){var e=c()(n.files,1)[0];n.value="",t(e)},setTimeout(function(){},100)})}function p(){return y.apply(this,arguments)}function y(){return(y=i()(a.a.mark(function e(){var t,n,r,o,i,u,c=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<c.length&&void 0!==c[0]?c[0]:{},n=t.needMD5,r=void 0===n||n,o=t.readProcess,e.next=3,s();case 3:if(i=e.sent,u="",r)return e.next=8,f(i,o);e.next=9;break;case 8:u=e.sent;case 9:return e.abrupt("return",{file:i,md5:u});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}t.default={getFileMD5:f,selectFile:s,getFile:p}}])});